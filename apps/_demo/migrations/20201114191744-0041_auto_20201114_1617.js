// auto generated by kmigrator
// KMIGRATOR:0041_auto_20201114_1617:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMS4yIG9uIDIwMjAtMTEtMTQgMTY6MTcKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwNDBfYXV0b18yMDIwMTExNF8xNTE5JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0ZXN0c29mdGRlbGV0ZWRvYmonLAogICAgICAgICAgICBuYW1lPSduZXdJZCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Qb3NpdGl2ZUludGVnZXJGaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGVzdHNvZnRkZWxldGVkb2JqaGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J25ld0lkJywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkpTT05GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field newId to testsoftdeletedobj
--
ALTER TABLE "TestSoftDeletedObj" ADD COLUMN "newId" integer NULL CHECK ("newId" >= 0);
--
-- Add field newId to testsoftdeletedobjhistoryrecord
--
ALTER TABLE "TestSoftDeletedObjHistoryRecord" ADD COLUMN "newId" jsonb NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field newId to testsoftdeletedobjhistoryrecord
--
ALTER TABLE "TestSoftDeletedObjHistoryRecord" DROP COLUMN "newId" CASCADE;
--
-- Add field newId to testsoftdeletedobj
--
ALTER TABLE "TestSoftDeletedObj" DROP COLUMN "newId" CASCADE;
COMMIT;

    `)
}
