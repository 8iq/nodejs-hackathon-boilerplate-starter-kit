// auto generated by kmigrator
// KMIGRATOR:0031_auto_20201108_2201:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMS4yIG9uIDIwMjAtMTEtMDggMjI6MDEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDMwX2F1dG9fMjAyMDExMDhfMjEzNCcpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiMgICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiMgICAgICAgICAgICBtb2RlbF9uYW1lPSd0ZXN0aXRlbWhpc3RvcnlyZWNvcmQnLAojICAgICAgICAgICAgbmFtZT0nY3JlYXRlZEJ5JywKIyAgICAgICAgKSwKIyAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKIyAgICAgICAgICAgIG1vZGVsX25hbWU9J3Rlc3RpdGVtaGlzdG9yeXJlY29yZCcsCiMgICAgICAgICAgICBuYW1lPSdoaXN0b3J5X2lkJywKIyAgICAgICAgKSwKIyAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKIyAgICAgICAgICAgIG1vZGVsX25hbWU9J3Rlc3RpdGVtaGlzdG9yeXJlY29yZCcsCiMgICAgICAgICAgICBuYW1lPSd0ZXN0JywKIyAgICAgICAgKSwKIyAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKIyAgICAgICAgICAgIG1vZGVsX25hbWU9J3Rlc3RpdGVtaGlzdG9yeXJlY29yZCcsCiMgICAgICAgICAgICBuYW1lPSd1cGRhdGVkQnknLAojICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuRGVsZXRlTW9kZWwoCiAgICAgICAgICAgIG5hbWU9J3Rlc3RpdGVtaGlzdG9yeXJlY29yZCcsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkRlbGV0ZU1vZGVsKAogICAgICAgICAgICBuYW1lPSd0ZXN0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgKSwKICAgIF0K

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Delete model testitemhistoryrecord
--
DROP TABLE "TestItemHistoryRecord" CASCADE;
--
-- Delete model testhistoryrecord
--
DROP TABLE "TestHistoryRecord" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Delete model testhistoryrecord
--
CREATE TABLE "TestHistoryRecord" ("date1_utc" timestamp with time zone NULL, "date1_offset" text NULL, "utc" timestamp with time zone NULL, "day" date NULL, "file" jsonb NULL, "pass" text NULL, "heroColor" text NULL, "isEnabled" boolean NULL, "rating1" integer NULL, "rating2" numeric(8, 2) NULL, "rating3" numeric(18, 4) NULL, "venue" jsonb NULL, "status_renamed" text NULL, "uuid" uuid NULL, "url" text NULL, "slug" text NULL, "rating" integer NULL, "settings" jsonb NULL, "meta" jsonb NULL, "text" text NULL, "updatedAt_utc" timestamp with time zone NULL, "updatedAt_offset" text NULL, "createdAt_utc" timestamp with time zone NULL, "createdAt_offset" text NULL, "v" integer NULL, "id" uuid NOT NULL PRIMARY KEY, "history_date" timestamp with time zone NOT NULL, "history_action" varchar(50) NOT NULL, "createdBy" integer NULL, "history_id" integer NOT NULL, "self" integer NULL, "updatedBy" integer NULL, "metaString" jsonb NULL, "vir1" jsonb NULL);
--
-- Delete model testitemhistoryrecord
--
CREATE TABLE "TestItemHistoryRecord" ("id" uuid NOT NULL PRIMARY KEY, "meta" jsonb NULL, "updatedAt_utc" timestamp with time zone NULL, "updatedAt_offset" text NULL, "createdAt_utc" timestamp with time zone NULL, "createdAt_offset" text NULL, "v" integer NULL, "history_date" timestamp with time zone NOT NULL, "history_action" varchar(50) NOT NULL, "createdBy" integer NULL, "history_id" uuid NOT NULL, "test" integer NULL, "updatedBy" integer NULL);
ALTER TABLE "TestHistoryRecord" ADD CONSTRAINT "TestHistoryRecord_createdBy_85dfb4aa_fk_User_id" FOREIGN KEY ("createdBy") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "TestHistoryRecord" ADD CONSTRAINT "TestHistoryRecord_self_d09f530b_fk_Test_id" FOREIGN KEY ("self") REFERENCES "Test" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "TestHistoryRecord" ADD CONSTRAINT "TestHistoryRecord_updatedBy_8429de21_fk_User_id" FOREIGN KEY ("updatedBy") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "TestHistoryRecord_createdBy_85dfb4aa" ON "TestHistoryRecord" ("createdBy");
CREATE INDEX "TestHistoryRecord_history_id_9e99b381" ON "TestHistoryRecord" ("history_id");
CREATE INDEX "TestHistoryRecord_self_d09f530b" ON "TestHistoryRecord" ("self");
CREATE INDEX "TestHistoryRecord_updatedBy_8429de21" ON "TestHistoryRecord" ("updatedBy");
ALTER TABLE "TestItemHistoryRecord" ADD CONSTRAINT "TestItemHistoryRecord_createdBy_0d7982dc_fk_User_id" FOREIGN KEY ("createdBy") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "TestItemHistoryRecord" ADD CONSTRAINT "TestItemHistoryRecord_test_4500e1e7_fk_Test_id" FOREIGN KEY ("test") REFERENCES "Test" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "TestItemHistoryRecord" ADD CONSTRAINT "TestItemHistoryRecord_updatedBy_aed0bd7a_fk_User_id" FOREIGN KEY ("updatedBy") REFERENCES "User" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "TestItemHistoryRecord_createdBy_0d7982dc" ON "TestItemHistoryRecord" ("createdBy");
CREATE INDEX "TestItemHistoryRecord_history_id_3e2881da" ON "TestItemHistoryRecord" ("history_id");
CREATE INDEX "TestItemHistoryRecord_test_4500e1e7" ON "TestItemHistoryRecord" ("test");
CREATE INDEX "TestItemHistoryRecord_updatedBy_aed0bd7a" ON "TestItemHistoryRecord" ("updatedBy");
COMMIT;

    `)
}
